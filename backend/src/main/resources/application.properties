# === DataSource ===
spring.datasource.url=jdbc:mysql://localhost:3306/Foment?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=rootGui200@#
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# === JPA / Hibernate ===
# 1. CORREÇÃO: Alterado de 'update' para 'validate'.
# Isso impede o Hibernate de tentar modificar (ALTER TABLE) suas tabelas,
# o que estava causando os erros "Incorrect table definition" na inicialização.
spring.jpa.hibernate.ddl-auto=validate

# 2. ADICIONADO: Esta é a correção mais importante.
# Força o Hibernate a usar os nomes exatos das tabelas (ex: "Usuario")
# que você definiu nas anotações @Table, em vez de convertê-los para
# minúsculas (ex: "usuario"). Isso corrige o erro "Unknown column 'u1_0.usu_id'".
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# === Logging ===
logging.level.root=INFO
logging.level.org.springframework.web=ERROR
logging.level.com.example.foment=DEBUG
logging.pattern.console=%d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# === Error Handling ===
server.error.include-stacktrace=ON_PARAM
server.error.include-message=always
server.error.include-binding-errors=never

# === Encoding UTF-8 ===
server.servlet.encoding.enabled=true
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.force=true

# === Content negotiation (opcional, mas bom para JSON) ===
spring.mvc.contentnegotiation.favor-parameter=false
spring.mvc.contentnegotiation.favor-path-extension=false
spring.mvc.contentnegotiation.media-types.json=application/json
spring.mvc.contentnegotiation.default-content-type=application/json